/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2025 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */

#include <stdint.h>



int main(void) {
    // Initialize I2C
    I2C_Handle_t I2C1Handle;
    I2C1Handle.pI2Cx = I2C1;
    I2C1Handle.I2CConfig.I2C_SCLSpeed = I2C_SCL_SPEED_SM;
    I2C1Handle.I2CConfig.I2C_DeviceAddress = 0x61;
    I2C1Handle.I2CConfig.I2C_ACKControl = I2C_ACK_ENABLE;
    I2C1Handle.I2CConfig.I2C_FMDutyCycle = I2C_FM_DUTY_2;
    I2C_Init(&I2C1Handle);

    // Initialize RTC
    RTC_Init(&I2C1Handle);

    // Set time
    RTC_Time currentTime = {30, 45, 14, 22, 12, 25}; // 14:45:30, 22 Dec 2025
    RTC_SetTime(&I2C1Handle, &currentTime);

    // Read time
    RTC_Time readTime;
    while(1) {
        RTC_GetTime(&I2C1Handle, &readTime);
        // Use readTime.hour, readTime.min, readTime.sec
    }
}
